webpackJsonp([1],{"7zck":function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("7+uW"),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var n=a("VU/8")({name:"App"},s,!1,function(e){a("gsu9")},null,null).exports,r=a("/ocq"),l=a("fZjL"),c=a.n(l),o=a("mtWM"),d=a.n(o),u={name:"Adverstise",data:function(){return{descriptionLimit:60,entries:[],isLoading:!1,searchValue:null,search:null,timelineSelected:"",timelineDescription:"",advertiserDetails:[],picker:null,landscape:!1,reactive:!0,pickedDate:!0,modal:!1,timelineList:["Today","Last 7 days","Last Month","Last Quarter","Last Year","Custom Date"],timeDateRange:null,showDate:"",headers:[{text:"Brand Name",value:"name"},{text:"First Campaign Name",value:"campaign"},{text:"Count of Campaigns inside brand",value:"campaignCount"}]}},computed:{fields:function(){var e=this;return this.searchValue?c()(this.searchValue).map(function(t){return{key:t,value:e.searchValue[t]||"n/a"}}):[]},items:function(){return this.entries},tableData:function(){return this.advertiserDetails||[]}},watch:{search:function(e){var t=this;this.items.length>0||(this.isLoading=!0,d.a.get("https://cors-anywhere.herokuapp.com/https://s3-ap-southeast-1.amazonaws.com/he-public-data/data%20(1)4614ba8.json").then(function(e){var a=e.data;t.entries=a}).catch(function(e){console.log(e)}).finally(function(){return t.isLoading=!1}))},timelineSelected:function(){var e=new Date;"Last 7 days"===this.timelineSelected&&e.setDate(e.getDate()-7),"Last Month"===this.timelineSelected&&e.setMonth(e.getMonth()-1),"Last Quarter"===this.timelineSelected&&e.setMonth((new Date).getMonth()-3),"Last Year"===this.timelineSelected&&e.setFullYear(e.getFullYear()-1),"Custom Date"!==this.timelineSelected?(this.timeDateRange=new Date(e),this.tableDetails()):(this.picker=null,this.pickedDate=!1)},searchValue:function(){this.tableDetails()},picker:function(){"Custom Date"===this.timelineSelected&&this.picker&&(this.timeDateRange=new Date(this.picker),this.showDate=this.timeDateRange.toDateString(),this.pickedDate=!0,this.tableDetails())},advertiserDetails:function(){},deep:!0},methods:{tableDetails:function(){var e=this;this.entries.length>0&&(this.advertiserDetails=[],this.searchValue&&this.entries.map(function(t){if(t.advertiserName===e.searchValue.advertiserName){var a=[];t.campaigns.map(function(t){var i=t.start_date.split("-"),s=new Date(i[2],i[1]-1,i[0]);"Custom Date"!==e.timelineSelected||"Today"!==e.timelineSelected?s>=e.timeDateRange&&s<new Date&&a.push(t):s.toDateString()===e.timeDateRange.toDateString()&&a.push(t)}),a.sort(function(e,t){return e.start_date>t.start_date?1:e.start_date<t.start_date?-1:void 0}),a.length>0?e.advertiserDetails.push({name:t.name,campaignCount:a.length,campaign:a[0].name,budget:t.budget}):e.advertiserDetails=[]}}),this.advertiserDetails.length>0&&this.advertiserDetails.sort(function(e,t){return e.budget>=t.budget?1:e.budget<t.budget?-1:void 0}),this.advertiserDetails.length>5&&(this.advertiserDetails=this.advertiserDetails.slice(0,5)))}},created:function(){this.timelineSelected=this.timelineList[0]}},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-toolbar",{attrs:{color:"blue darken-3",dark:"",app:"","clipped-left":e.$vuetify.breakpoint.mdAndUp,fixed:""}},[a("v-toolbar-title",{staticClass:"ml-0 pl-3",staticStyle:{width:"125px"}},[a("span",{staticClass:"hidden-sm-and-down"},[e._v("Advertiser")])]),e._v(" "),a("v-autocomplete",{staticStyle:{width:"0px","margin-top":"6px"},attrs:{items:e.items,loading:e.isLoading,"search-input":e.search,color:"white","hide-no-data":"","hide-selected":"",clearable:"","clear-icon":"clear","item-text":"advertiserName","item-value":"advertiserName",placeholder:"Enter brand name","prepend-inner-icon":"search","return-object":""},on:{"update:searchInput":function(t){e.search=t}},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}}),e._v(" "),a("v-toolbar-title",{staticClass:"ml-0 pl-3",staticStyle:{width:"125px"}},[a("span",{staticClass:"hidden-sm-and-down"},[e._v("Timeline")])]),e._v(" "),e.modal?e._e():a("v-select",{staticStyle:{width:"0px","margin-top":"6px"},attrs:{items:e.timelineList},model:{value:e.timelineSelected,callback:function(t){e.timelineSelected=t},expression:"timelineSelected"}}),e._v(" "),"Custom Date"===e.timelineSelected?a("v-dialog",{ref:"dialog",attrs:{"return-value":e.picker,persistent:"",lazy:"","full-width":"",width:"290px"},on:{"update:returnValue":function(t){e.picker=t}},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[a("v-text-field",{staticStyle:{"margin-top":"6px"},attrs:{slot:"activator",label:"Select Date","prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.picker,callback:function(t){e.picker=t},expression:"picker"}}),e._v(" "),a("v-date-picker",{attrs:{scrollable:""},model:{value:e.picker,callback:function(t){e.picker=t},expression:"picker"}},[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){e.modal=!1}}},[e._v("Cancel")]),e._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){e.$refs.dialog.save(e.picker)}}},[e._v("OK")])],1)],1):e._e()],1),e._v(" "),a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"justify-center":"","align-center":""}},[a("v-card",[e.searchValue?a("v-subheader",{staticClass:"left-message"},[e._v("Hello "+e._s(e.searchValue.advertiserName))]):e._e(),e._v(" "),e.searchValue&&"Custom Date"!==e.timelineSelected?a("v-subheader",{staticClass:"right-message"},[e._v("Showing "+e._s(e.timelineSelected)+" data")]):e._e(),e._v(" "),e.searchValue&&"Custom Date"===e.timelineSelected?a("v-subheader",{staticClass:"right-message"},[e._v("Showing "+e._s(e.showDate)+" data")]):e._e(),e._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.tableData,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.name))]),e._v(" "),a("td",[e._v(e._s(t.item.campaign))]),e._v(" "),a("td",[e._v(e._s(t.item.campaignCount))])]}}])})],1)],1)],1)],1)],1)},staticRenderFns:[]};var m=a("VU/8")(u,h,!1,function(e){a("iuhI")},null,null).exports;i.default.use(r.a);var p=new r.a({routes:[{path:"/",name:"Advertise",component:m}]}),v=a("3EgV"),f=a.n(v);a("7zck");i.default.use(f.a,{iconfont:"mdi"}),i.default.config.productionTip=!1,new i.default({el:"#app",router:p,components:{App:n},template:"<App/>"})},gsu9:function(e,t){},iuhI:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.cd69c8f07ff18cc46829.js.map